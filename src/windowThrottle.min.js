!function(e,t){"function"==typeof define&&define.amd?define("WindowThrottle",t(e)):"object"==typeof WindowThrottle?module.WindowThrottle=t(e):e.WindowThrottle=t(e)}(window||this,function(e){"use strict";var t,i={},n=!!document.querySelector&&!!e.addEventListener,o={hasResized:!1,hasScrolled:!1,width:0,height:0,scrollPositionY:0,scrollPositionX:0,orientation:null},r={detectResize:!0,detectScroll:!0,pollingTime:150,useRAF:!1},s=function(e,t,i){if("[object Object]"===Object.prototype.toString.call(e))for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(i,e[n],n,e);else for(var o=0,r=e.length;r>o;o++)t.call(i,e[o],o,e)},a=function(e,t){var i={};return s(e,function(t,n){i[n]=e[n]}),s(t,function(e,n){i[n]=t[n]}),i},l={init:function(){var e=window;l.setRAF(),l.events.polyfill(),t.detectResize===!0&&(e.addEventListener("resize",function(){o.hasResized=!0}),e.addEventListener("orientationchangei",function(){o.hasResized=!0}),o.width=e.innerWidth,o.height=e.innerHeight,l.resize.getOrientation(o.width,o.height),l.resize.event()),t.detectScroll===!0&&(e.addEventListener("scroll",function(){o.hasScrolled=!0}),o.scrollPositionY=e.pageYOffset,o.scrollPositionX=e.pageXOffset,l.scroll.event()),l.poll()},setRAF:function(){var e=window;e.requestAnimFrame=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)}}()},resize:{event:function(){var e=window,t=e.innerWidth,i=e.innerHeight,n=o.width,r=o.height,s=t!==n,a=i!==r,c=t-n,d=i-r;l.resize.getOrientation(t,i);var h={changed:{width:s,height:a},dimensions:{width:t,height:i},delta:{width:c,height:d},orientation:o.orientation};l.events.triggerCustom(e,"wt.resize",h),o.width=t,o.height=i},getOrientation:function(e,t){var i=window;void 0!==i.matchMedia?(i.matchMedia("(orientation: landscape)").matches&&(o.orientation="landscape"),i.matchMedia("(orientation: portrait)").matches&&(o.orientation="portrait")):((e>t||e===t)&&(o.orientation="landscape"),t>e&&(o.orientation="portrait"))}},scroll:{event:function(){var e=window,t=e.pageYOffset,i=e.pageXOffset,n=document.body.scrollHeight,r=document.body.scrollWidth,s=t/(n-o.height)*100,a=i/(r-o.width)*100,c=s>100?100:s,d=a>100?100:a,h=t-o.scrollPositionY,u=i-o.scrollPositionX,f={delta:{y:h,x:u},percent:{y:c,x:d}};l.events.triggerCustom(e,"wt.scroll",f),o.scrollPositionY=t,o.scrollPositionX=i}},poll:function(){t.useRAF?(l.checkForChanges(),requestAnimFrame(l.poll)):setInterval(l.checkForChanges,t.pollingTime)},checkForChanges:function(){o.hasScrolled&&t.detectScroll===!0&&(l.scroll.event(),o.hasScrolled=!1),o.hasResized&&t.detectResize===!0&&(l.resize.event(),o.hasResized=!1)},events:{polyfill:function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}e.prototype=window.Event.prototype,window.CustomEvent=e},triggerCustom:function(e,t,i){var n=new CustomEvent(t,{detail:i});e.dispatchEvent(n)}}};return Windowwt.init=function(e){n&&(t=a(t||r,e||{}),l.init())},i});
