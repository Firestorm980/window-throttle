!function(e){var t={detectResize:!0,detectScroll:!0,pollingTime:150,useRAF:!1};e.windowThrottle=function(i){var n=e.extend({},t,i),o={hasResized:!1,hasScrolled:!1,width:0,height:0,scrollPosition:0,orientation:null},r={init:function(){var e=jQuery(window);r.setRAF(),n.detectResize===!0&&(e.on("resize orientationchange",function(){o.hasResized=!0}),o.width=e.width(),o.height=e.height(),r.resize.setOrientation(o.width,o.height),r.resize.event()),n.detectScroll===!0&&(e.on("scroll touchmove",function(){o.hasScrolled=!0}),o.scrollPosition=e.scrollTop(),r.scroll.event()),r.poll()},setRAF:function(){window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}()},resize:{event:function(){var e=jQuery(window),t=e.width(),i=e.height(),n=o.width,a=o.height,h=t!==n,s=i!==a,c=t-n,d=i-a;r.resize.setOrientation(t,i);var l={type:"throttle.resize",changed:{width:h,height:s},dimensions:{width:t,height:i},delta:{width:c,height:d},orientation:r.resize.getOrientation()};e.trigger(l),o.width=t,o.height=i},setOrientation:function(e,t){void 0!==window.matchMedia?(window.matchMedia("(orientation: landscape)").matches&&(o.orientation="landscape"),window.matchMedia("(orientation: portrait)").matches&&(o.orientation="portrait")):((e>t||e===t)&&(o.orientation="landscape"),t>e&&(o.orientation="portrait"))},getOrientation:function(){if(void 0!==window.matchMedia){if(window.matchMedia("(orientation: landscape)").matches)return"landscape";if(window.matchMedia("(orientation: portrait)").matches)return"portrait"}else{if(o.width>o.height||o.width===o.height)return"landscape";if(o.width<o.height)return"portrait"}}},scroll:{event:function(){var e=jQuery(window),t=e.scrollTop(),i=jQuery(document).height(),n=Math.round(t/(i-o.height)*100),r=t-o.scrollPosition,a={type:"throttle.scroll",delta:r,percent:n};e.trigger(a),o.scrollPosition=t}},poll:function(){n.useRAF?(r.checkForChanges(),requestAnimFrame(r.poll)):setInterval(r.checkForChanges,n.pollingTime)},checkForChanges:function(){o.hasScrolled&&n.detectScroll===!0&&(r.scroll.event(),o.hasScrolled=!1),o.hasResized&&n.detectResize===!0&&(r.resize.event(),o.hasResized=!1)}};return r.init(),{}}}(jQuery);
